{"ast":null,"code":"var _jsxFileName = \"/home/zadmin/Desktop/blog-react/myblog/src/components/helper/GetPosts.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/Molecules.css';\nimport { Logincms, Blog, DeletePost, Commentlist, Comment } from '../../cms_pb';\nimport { CmsBlogClient, Metadata } from '../../cms_grpc_web_pb';\nimport BlogTitle from '../atoms/blog-TitleTextArea';\nimport BlogContent from \"../atoms/blog-ContentTextArea\";\nexport default function GetAllPosts() {\n  const [blogs, setBlogs] = useState([]);\n  const [count, setCount] = useState(0);\n\n  function addData(data) {\n    blogs.push(data);\n    console.log(blogs);\n    setBlogs(blogs);\n  }\n\n  useEffect(() => {\n    var client = new CmsBlogClient('http://localhost:51053');\n    var request = new Logincms();\n    request.setResponsecode(420);\n    request.setResponsemessage(\"Hello\");\n    var header = new Headers();\n    var token = \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0b2tlbiIsImZpcnN0TmFtZSI6IkFhc2h1dG9zaCIsImxhc3ROYW1lXyI6Ikt1bWFyIiwidXNlcmlkIjoiMyIsImVtYWlsIjoic3VkaGlyLmt1bWFyQHplbW9zb2xhYnMuY29tIn0.WWx7j-Tx0xBkRj_VLA0Wpb3_DhhBPSIhmc24t5g0gZc\";\n    client.post(request, {\n      \"Authorization\": token\n    }, (err, response) => {\n      const outerArray = response;\n      {\n        outerArray[\"array\"][1].map(dataitem => {\n          var data = {\n            blogid: dataitem[0],\n            title: dataitem[4],\n            content: dataitem[1],\n            creationdate: dataitem[5],\n            refuser: dataitem[2],\n            comments: dataitem[3]\n          };\n          addData(data);\n        });\n      }\n    });\n    document.title = `You clicked ${count} times`;\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Some text\", blogs.length), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"You clicked \", count, \" times\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setCount(count + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"Click me\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"leftcolumn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, blogs.map((blog, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: blog.blogid,\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(BlogTitle, {\n    title: blog.title,\n    blogid: blog.blogid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, blog.creationdate, \", \", blog.refuser), /*#__PURE__*/React.createElement(BlogContent, {\n    content: blog.content,\n    blogid: blog.blogid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 37\n    }\n  })))));\n}","map":{"version":3,"sources":["/home/zadmin/Desktop/blog-react/myblog/src/components/helper/GetPosts.jsx"],"names":["React","useState","useEffect","Logincms","Blog","DeletePost","Commentlist","Comment","CmsBlogClient","Metadata","BlogTitle","BlogContent","GetAllPosts","blogs","setBlogs","count","setCount","addData","data","push","console","log","client","request","setResponsecode","setResponsemessage","header","Headers","token","post","err","response","outerArray","map","dataitem","blogid","title","content","creationdate","refuser","comments","document","length","blog","index"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport './css/Molecules.css';\nimport { Logincms, Blog, DeletePost, Commentlist, Comment } from '../../cms_pb';\nimport { CmsBlogClient, Metadata } from '../../cms_grpc_web_pb'\nimport BlogTitle from '../atoms/blog-TitleTextArea';\nimport BlogContent from \"../atoms/blog-ContentTextArea\";\n\nexport default function GetAllPosts(){\n    const [blogs, setBlogs] = useState([]);\n    const [count, setCount] = useState(0);\n\n    function addData(data){\n        blogs.push(data);\n        console.log(blogs);\n        \n        setBlogs(blogs);\n    }\n\n    useEffect(() => {  \n        var client = new CmsBlogClient('http://localhost:51053');\n        var request = new Logincms();\n        request.setResponsecode(420);\n        request.setResponsemessage(\"Hello\");\n        var header = new Headers();\n        var token = \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0b2tlbiIsImZpcnN0TmFtZSI6IkFhc2h1dG9zaCIsImxhc3ROYW1lXyI6Ikt1bWFyIiwidXNlcmlkIjoiMyIsImVtYWlsIjoic3VkaGlyLmt1bWFyQHplbW9zb2xhYnMuY29tIn0.WWx7j-Tx0xBkRj_VLA0Wpb3_DhhBPSIhmc24t5g0gZc\";\n        client.post(request, {\"Authorization\": token}, (err, response) => {\n            const outerArray = response;\n            {outerArray[\"array\"][1].map((dataitem) => {\n                var data = {\n                    blogid: dataitem[0],\n                    title: dataitem[4],\n                    content: dataitem[1],\n                    creationdate: dataitem[5],\n                    refuser: dataitem[2],\n                    comments: dataitem[3]\n                };\n                addData(data);\n            })}\n        });\n        document.title = `You clicked ${count} times`;\n    },[]);\n\n    return(\n        <div className=\"row\" >\n            <p>Some text\n                {blogs.length}\n            </p>\n                <p>You clicked {count} times</p>\n                <button onClick={() => setCount(count + 1)}>\n                    Click me\n                </button>\n                <div className=\"leftcolumn\">\n                    {\n                        blogs.map((blog,index) =>\n                                <div key={blog.blogid} className=\"card\">\n                                    <BlogTitle title={blog.title} blogid={blog.blogid} />\n                                    <h5>{blog.creationdate}, {blog.refuser}</h5>\n                                    <BlogContent content={blog.content} blogid={blog.blogid} />\n                                </div>\n                        )\n                    }\n                </div>\n        </div>    \n    );\n}"]},"metadata":{},"sourceType":"module"}