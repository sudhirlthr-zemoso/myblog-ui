{"ast":null,"code":"var _jsxFileName = \"/home/zadmin/Desktop/blog-react/myblog/src/components/helper/GetPosts.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport '../molecules/css/Molecules.css';\nimport { Logincms, Blog, DeletePost, Commentlist, Comment } from '../../cms_pb';\nimport { CmsBlogClient, Metadata } from '../../cms_grpc_web_pb';\nimport BlogTitle from '../atoms/blog-TitleAndContentList';\nimport BlogContent from \"../atoms/blog-ContentTextArea\";\n\nconst useBlog = blogs => {};\n\nexport default function GetAllPosts() {\n  const [blogs, setBlogs] = useState([]);\n  const [count, setCount] = useState(0); //useBlog(blogs);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      var client = new CmsBlogClient('http://localhost:51053');\n      var request = new Logincms();\n      request.setResponsecode(420);\n      request.setResponsemessage(\"Hello\");\n      var header = new Headers();\n      var token = \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0b2tlbiIsImZpcnN0TmFtZSI6IkFhc2h1dG9zaCIsImxhc3ROYW1lXyI6Ikt1bWFyIiwidXNlcmlkIjoiMyIsImVtYWlsIjoic3VkaGlyLmt1bWFyQHplbW9zb2xhYnMuY29tIn0.WWx7j-Tx0xBkRj_VLA0Wpb3_DhhBPSIhmc24t5g0gZc\";\n      await client.post(request, {\n        \"Authorization\": token\n      }, (err, response) => {\n        const outerArray = response;\n        {\n          outerArray[\"array\"][1].map(dataitem => {\n            var data = {\n              blogid: dataitem[0],\n              title: dataitem[4],\n              content: dataitem[1],\n              creationdate: dataitem[5],\n              refuser: dataitem[2],\n              comments: dataitem[3]\n            };\n\n            if (blogs.some(blg => blg.blogid !== data.blogid)) {\n              setBlogs([...blogs, data]);\n            }\n\n            blogs.push(data);\n          });\n        }\n      });\n    };\n\n    fetchData();\n  }, [setBlogs]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"leftcolumn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, blogs.map((blog, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: blog.blogid,\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(BlogTitle, {\n    title: blog.title,\n    blogid: blog.blogid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, blog.creationdate, \", \", blog.refuser), /*#__PURE__*/React.createElement(BlogContent, {\n    content: blog.content,\n    blogid: blog.blogid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 37\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/zadmin/Desktop/blog-react/myblog/src/components/helper/GetPosts.jsx"],"names":["React","useState","useEffect","Logincms","Blog","DeletePost","Commentlist","Comment","CmsBlogClient","Metadata","BlogTitle","BlogContent","useBlog","blogs","GetAllPosts","setBlogs","count","setCount","fetchData","client","request","setResponsecode","setResponsemessage","header","Headers","token","post","err","response","outerArray","map","dataitem","data","blogid","title","content","creationdate","refuser","comments","some","blg","push","blog","index"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport '../molecules/css/Molecules.css'\nimport { Logincms, Blog, DeletePost, Commentlist, Comment } from '../../cms_pb';\nimport { CmsBlogClient, Metadata } from '../../cms_grpc_web_pb'\nimport BlogTitle from '../atoms/blog-TitleAndContentList';\nimport BlogContent from \"../atoms/blog-ContentTextArea\";\n\n\n\nconst useBlog = blogs => {\n   \n};\n\nexport default function GetAllPosts(){\n    const [blogs, setBlogs] = useState([]);\n    const [count, setCount] = useState(0);\n    //useBlog(blogs);\n\n    useEffect(() =>{\n        const fetchData = async () => {\n            var client = new CmsBlogClient('http://localhost:51053');\n            var request = new Logincms();\n            request.setResponsecode(420);\n            request.setResponsemessage(\"Hello\");\n            var header = new Headers();\n            var token = \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0b2tlbiIsImZpcnN0TmFtZSI6IkFhc2h1dG9zaCIsImxhc3ROYW1lXyI6Ikt1bWFyIiwidXNlcmlkIjoiMyIsImVtYWlsIjoic3VkaGlyLmt1bWFyQHplbW9zb2xhYnMuY29tIn0.WWx7j-Tx0xBkRj_VLA0Wpb3_DhhBPSIhmc24t5g0gZc\";\n            await client.post(request, {\"Authorization\": token}, (err, response) => {\n                const outerArray = response;\n                {outerArray[\"array\"][1].map((dataitem) => {\n                    var data = {\n                        blogid: dataitem[0],\n                        title: dataitem[4],\n                        content: dataitem[1],\n                        creationdate: dataitem[5],\n                        refuser: dataitem[2],\n                        comments: dataitem[3]\n                    };\n                    \n                    if(blogs.some(blg => blg.blogid !== data.blogid)){\n                        setBlogs([...blogs, data]);\n                    }\n                    blogs.push(data);\n                })}\n            });\n           };\n           fetchData();          \n    }, [setBlogs]);\n\n    return(\n        <div className=\"page\">\n            <div className=\"row\" >\n                <div className=\"leftcolumn\">\n                    {\n                        blogs.map((blog,index) =>\n                                <div key={blog.blogid} className=\"card\">\n                                    <BlogTitle title={blog.title} blogid={blog.blogid} />\n                                    <h5>{blog.creationdate}, {blog.refuser}</h5>\n                                    <BlogContent content={blog.content} blogid={blog.blogid} />\n                                </div>\n                        )\n                    }\n                </div>\n        </div> \n        </div>   \n    );\n}"]},"metadata":{},"sourceType":"module"}